!function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){"use strict";function a(e){return'<div style="'+d+'">'+e+"</div>"}function n(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}var o,d,p,s=r(1),l=["pdf","html","image","json"],m={printable:null,type:"pdf",header:null,maxWidth:800,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,properties:null,showModal:!1,modalMessage:"Retrieving Document...",frameId:"printJS",border:!0,htmlData:""};e.exports=function(){if(void 0===arguments[0])return window.console.error("printJS expects at least 1 attribute."),!1;var e=new c(arguments);switch(o="max-width: "+e.params.maxWidth+"px !important;"+e.params.font_size+" !important;",d="font-family:"+e.params.font+" !important; font-size: "+e.params.font_size+" !important; width:100%;",p="font-weight:300;",e.params.type){case"pdf":if(s.isFirefox()){var t=window.open(e.params.printable,"_blank");t.focus(),e.params.showModal&&e.disablePrintModal()}else e.pdf();break;case"image":e.image();break;case"html":e.html();break;case"json":e.json();break;default:throw new Error("Invalid print type. Available types are: pdf, html, image and json.")}};var c=function(){var e=arguments[0],t=this;switch(t.params=n({},m),typeof e[0]){case"string":t.params.printable=encodeURI(e[0]),t.params.type=e[1]||m.type;break;case"object":t.params.printable=e[0].printable,t.params.type=e[0].type||m.type,t.params.frameId=e[0].frameId||m.frameId,t.params.header=e[0].header||m.header,t.params.maxWidth=e[0].maxWidth||m.maxWidth,t.params.font=e[0].font||m.font,t.params.font_size=e[0].font_size||m.font_size,t.params.honorMarginPadding="undefined"!=typeof e[0].honorMarginPadding?e[0].honorMarginPadding:m.honorMarginPadding,t.params.properties=e[0].properties||m.properties,t.params.showModal="undefined"!=typeof e[0].showModal?e[0].showModal:m.showModal,t.params.modalMessage=e[0].modalMessage||m.modalMessage;break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+typeof e[0])}t.validateInput(),t.params.showModal&&t.showModal();var r=document.getElementById(t.params.frameId);r&&r.parentNode.removeChild(r),s.isIE()&&"pdf"===t.params.type?(t.printFrame=document.createElement("embed"),t.printFrame.setAttribute("type","application/pdf"),t.printFrame.setAttribute("style","width:0px;height:0px;")):(t.printFrame=document.createElement("iframe"),t.printFrame.setAttribute("style","display:none;")),t.printFrame.setAttribute("id",t.params.frameId),"pdf"!==t.params.type&&(t.printFrame.srcdoc="<html><head></head><body></body></html>")};c.prototype.pdf=function(){var e=this;if(e.params.showModal&&!s.isIE()){var t=document.createElement("img");t.src=e.params.printable;var r=new Promise(function(e,r){function a(){t.complete&&(window.clearInterval(n),e("PrintJS: PDF loaded. Read to print."))}var n=setInterval(a,100)});r.then(function(t){e.printFrame.setAttribute("src",e.params.printable),e.print()})}else e.printFrame.setAttribute("src",e.params.printable),e.print()},c.prototype.image=function(){var e=document.createElement("img");e.setAttribute("style","width:100%;"),e.setAttribute("id","printableImage"),e.src=this.params.printable;var t=this,r=document.createElement("div");if(r.setAttribute("style","width:100%"),s.isFirefox()){var a=document.createElement("canvas");a.setAttribute("width",e.width),a.setAttribute("height",e.height);var n=a.getContext("2d");n.drawImage(e,0,0),e.setAttribute("src",a.toDataURL("JPEG",1))}r.appendChild(e),t.params.header&&t.addHeader(r),t.params.htmlData=r.outerHTML,t.print()},c.prototype.html=function(){var e=document.getElementById(this.params.printable);if(!e)return window.console.error("Invalid HTML element id: "+this.params.printable),!1;var t=document.createElement("div");t.appendChild(e.cloneNode(!0)),t.setAttribute("style","display:none;"),t.setAttribute("id","printJS-html"),e.parentNode.appendChild(t),t=document.getElementById("printJS-html"),t.setAttribute("style",this.collectStyles(t)+"margin:0 !important;");var r=t.children;this.loopNodesCollectStyles(r),this.params.header&&this.addHeader(t),t.parentNode.removeChild(t),this.params.htmlData=a(t.innerHTML),this.print()},c.prototype.json=function(){if("object"!=typeof this.params.printable)throw new Error("Invalid javascript data object (JSON).");if(!this.params.properties||"object"!=typeof this.params.properties)throw new Error("Invalid properties array for your JSON data.");var e="";this.params.header&&(e+='<h1 style="'+p+'">'+this.params.header+"</h1>"),e+=this.jsonToHTML(),this.params.htmlData=a(e),this.print()},c.prototype.print=function(){function e(){if(a.focus(),s.isIE()&&"pdf"!==r.params.type)try{a.contentWindow.document.execCommand("print",!1,null)}catch(e){a.contentWindow.print()}else a.contentWindow.print();r.params.showModal&&r.disablePrintModal()}function t(){"undefined"==typeof a.print?setTimeout(function(){t()},1e3):(a.print(),setTimeout(function(){a.parentNode.removeChild(a)},2e3))}var r=this;document.getElementsByTagName("body")[0].appendChild(r.printFrame);var a=document.getElementById(r.params.frameId);s.isIE()&&"pdf"===r.params.type?t():r.printFrame.onload=function(){if("pdf"===r.params.type)e();else{var t=a.contentWindow||a.contentDocument;t.document&&(t=t.document),t.body.innerHTML=r.params.htmlData,"image"===r.params.type?t.getElementById("printableImage").onload=function(){e()}:e()}}},c.prototype.collectStyles=function(e){var t=this,r=document.defaultView||window,a=[],n="";if(r.getComputedStyle){a=r.getComputedStyle(e,"");for(var i=0;i<a.length;i++){var d=["border","float","box"],p=["clear","display","width","min-width","height","min-height","max-height"];t.params.honorMarginPadding&&p.push("margin","padding"),t.params.honorColor&&p.push("color");for(var s=0;s<p.length;s++)a[i].indexOf(d[s])===-1&&0!==a[i].indexOf(p[s])||(n+=a[i]+":"+a.getPropertyValue(a[i])+";")}}else if(e.currentStyle){a=e.currentStyle;for(var l in a)a.indexOf("border")!==-1&&a.indexOf("color")!==-1&&(n+=l+":"+a[l]+";")}return n+=o},c.prototype.loopNodesCollectStyles=function(e){for(var t=this,r=0;r<e.length;r++){var a=e[r],n=a.tagName;if("INPUT"===n||"TEXTAREA"===n||"SELECT"===n){var i=t.collectStyles(a),o=a.parentNode,d="SELECT"===n?document.createTextNode(a.options[a.selectedIndex].text):document.createTextNode(a.value),p=document.createElement("div");p.appendChild(d),p.setAttribute("style",i),o.appendChild(p),o.removeChild(a)}else a.setAttribute("style",t.collectStyles(a));var s=a.children;s.length&&t.loopNodesCollectStyles(s)}},c.prototype.addHeader=function(e){var t=document.createElement("h1"),r=document.createTextNode(this.params.header);t.appendChild(r),t.setAttribute("style",p),e.insertBefore(t,e.childNodes[0])},c.prototype.jsonToHTML=function(){var e=this,t=this.params.printable,r=this.params.properties,a='<div style="display:flex; flex-direction: column;">';a+='<div style="flex:1; display:flex;">';for(var n=0;n<r.length;n++)a+='<div style="flex:1; padding:5px;">'+i(r[n])+"</div>";a+="</div>";for(var o=0;o<t.length;o++){a+='<div style="flex:1; display:flex;',a+=e.params.border?"border:1px solid lightgray;":"",a+='">';for(var d=0;d<r.length;d++)a+='<div style="flex:1; padding:5px;">'+t[o][r[d]]+"</div>";a+="</div>"}return a+="</div>"},c.prototype.validateInput=function(){if(!this.params.printable)throw new Error("Missing printable information.");if(!this.params.type||"string"!=typeof this.params.type||l.indexOf(this.params.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.")},c.prototype.showModal=function(){var e="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",t=document.createElement("div");t.setAttribute("style",e),t.setAttribute("id","printJS-Modal");var r=document.createElement("div");r.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var a=document.createElement("div");a.setAttribute("class","printClose"),a.setAttribute("id","printClose"),r.appendChild(a);var n=document.createElement("span");n.setAttribute("class","printSpinner"),r.appendChild(n);var i=document.createTextNode(this.params.modalMessage);r.appendChild(i),t.appendChild(r),document.getElementsByTagName("body")[0].appendChild(t);var o=this;document.getElementById("printClose").addEventListener("click",function(){o.disablePrintModal()})},c.prototype.disablePrintModal=function(){var e=document.getElementById("printJS-Modal");e.parentNode.removeChild(e)}},function(e,t){e.exports={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return!!document.documentMode}}},function(e,t,r){window.printJS=r(0)}]);